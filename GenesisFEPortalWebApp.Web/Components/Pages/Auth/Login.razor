@page "/login"
@using GenesisFEPortalWebApp.Models.Models.Auth
@using GenesisFEPortalWebApp.Models.Models
@inject ApiClient ApiClient
@inject NavigationManager NavigationManager
@inject IToastService ToastService

<PageTitle>Login</PageTitle>

<div class="container">
    <div class="row justify-content-center mt-5">
        <div class="col-md-6">
            <RadzenCard class="rz-shadow-3 rz-border-radius-4 p-4">
                <RadzenTemplateForm TItem="LoginDto" Data=@model Submit=@OnSubmit>
                    <RadzenStack Gap="1rem">
                        <RadzenText TextStyle="TextStyle.H4" class="rz-text-align-center">Iniciar Sesión</RadzenText>

                        <RadzenFormField Text="Email" Variant="Variant.Filled">
                            <RadzenTextBox @bind-Value=@model.Email Style="width: 100%;" />
                            <RadzenRequiredValidator Component="Email" Text="El email es requerido" />
                            <RadzenEmailValidator Component="Email" Text="Formato de email inválido" />
                        </RadzenFormField>

                        <RadzenFormField Text="Password" Variant="Variant.Filled">
                            <RadzenPassword @bind-Value=@model.Password Style="width: 100%;" />
                            <RadzenRequiredValidator Component="Password" Text="La contraseña es requerida" />
                        </RadzenFormField>

                        <RadzenFormField>
                            <RadzenSwitch @bind-Value=@model.RememberMe /> Recordarme
                        </RadzenFormField>

                        <RadzenButton ButtonType="ButtonType.Submit"
                                      Text="Iniciar Sesión"
                                      ButtonStyle="ButtonStyle.Primary"
                                      Size="ButtonSize.Large"
                                      class="w-100" />

                        <div class="text-center">
                            <RadzenLink Path="/register" Text="¿No tienes cuenta? Regístrate" />
                        </div>
                    </RadzenStack>
                </RadzenTemplateForm>
            </RadzenCard>
        </div>
    </div>
</div>